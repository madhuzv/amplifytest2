{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "An auto-generated nested stack.",
    "Metadata": {},
    "Parameters": {
        "DynamoDBModelTableReadIOPS": {
            "Type": "Number",
            "Description": "The number of read IOPS the table should support.",
            "Default": 5
        },
        "DynamoDBModelTableWriteIOPS": {
            "Type": "Number",
            "Description": "The number of write IOPS the table should support.",
            "Default": 5
        },
        "DynamoDBBillingMode": {
            "Type": "String",
            "Description": "Configure @model types to create DynamoDB tables with PAY_PER_REQUEST or PROVISIONED billing modes.",
            "Default": "PAY_PER_REQUEST",
            "AllowedValues": [
                "PAY_PER_REQUEST",
                "PROVISIONED"
            ]
        },
        "DynamoDBEnablePointInTimeRecovery": {
            "Type": "String",
            "Description": "Whether to enable Point in Time Recovery on the table",
            "Default": "false",
            "AllowedValues": [
                "true",
                "false"
            ]
        },
        "DynamoDBEnableServerSideEncryption": {
            "Type": "String",
            "Description": "Enable server side encryption powered by KMS.",
            "Default": "true",
            "AllowedValues": [
                "true",
                "false"
            ]
        },
        "ElasticSearchAccessIAMRoleName": {
            "Type": "String",
            "Description": "The name of the IAM role assumed by AppSync for Elasticsearch.",
            "Default": "AppSyncElasticsearchRole"
        },
        "ElasticSearchStreamingLambdaHandlerName": {
            "Type": "String",
            "Description": "The name of the lambda handler.",
            "Default": "python_streaming_function.lambda_handler"
        },
        "ElasticSearchStreamingLambdaRuntime": {
            "Type": "String",
            "Description": "The lambda runtime                 (https://docs.aws.amazon.com/lambda/latest/dg/API_CreateFunction.html#SSS-CreateFunction-request-Runtime)",
            "Default": "python3.9"
        },
        "ElasticSearchStreamingFunctionName": {
            "Type": "String",
            "Description": "The name of the streaming lambda function.",
            "Default": "DdbToEsFn"
        },
        "ElasticSearchStreamingIAMRoleName": {
            "Type": "String",
            "Description": "The name of the streaming lambda function IAM role.",
            "Default": "SearchableLambdaIAMRole"
        },
        "ElasticSearchDebugStreamingLambda": {
            "Type": "Number",
            "Description": "Enable debug logs for the Dynamo -> ES streaming lambda.",
            "Default": 1,
            "AllowedValues": [
                0,
                1
            ]
        },
        "ElasticSearchInstanceCount": {
            "Type": "Number",
            "Description": "The number of instances to launch into the Elasticsearch domain.",
            "Default": 1
        },
        "ElasticSearchInstanceType": {
            "Type": "String",
            "Description": "The type of instance to launch into the Elasticsearch domain.",
            "Default": "t2.small.elasticsearch",
            "AllowedValues": [
                "t2.small.elasticsearch",
                "t2.medium.elasticsearch",
                "c4.large.elasticsearch",
                "c4.xlarge.elasticsearch",
                "c4.2xlarge.elasticsearch",
                "c4.4xlarge.elasticsearch",
                "c4.8xlarge.elasticsearch",
                "m3.medium.elasticsearch",
                "m3.large.elasticsearch",
                "m3.xlarge.elasticsearch",
                "m3.2xlarge.elasticsearch",
                "m4.large.elasticsearch",
                "m4.xlarge.elasticsearch",
                "m4.2xlarge.elasticsearch",
                "m4.4xlarge.elasticsearch",
                "m4.10xlarge.elasticsearch",
                "r3.large.elasticsearch",
                "r3.xlarge.elasticsearch",
                "r3.2xlarge.elasticsearch",
                "r3.4xlarge.elasticsearch",
                "r3.8xlarge.elasticsearch",
                "r4.large.elasticsearch",
                "r4.xlarge.elasticsearch",
                "r4.2xlarge.elasticsearch",
                "r4.4xlarge.elasticsearch",
                "r4.8xlarge.elasticsearch",
                "r4.16xlarge.elasticsearch",
                "i2.xlarge.elasticsearch",
                "i2.2xlarge.elasticsearch",
                "i3.large.elasticsearch",
                "i3.xlarge.elasticsearch",
                "i3.2xlarge.elasticsearch",
                "i3.4xlarge.elasticsearch",
                "i3.8xlarge.elasticsearch",
                "i3.16xlarge.elasticsearch",
                "r6gd.12xlarge.elasticsearch",
                "ultrawarm1.xlarge.elasticsearch",
                "m5.4xlarge.elasticsearch",
                "t3.xlarge.elasticsearch",
                "m6g.xlarge.elasticsearch",
                "m6g.12xlarge.elasticsearch",
                "t2.micro.elasticsearch",
                "r6gd.16xlarge.elasticsearch",
                "d2.2xlarge.elasticsearch",
                "t3.micro.elasticsearch",
                "m5.large.elasticsearch",
                "d2.4xlarge.elasticsearch",
                "t3.small.elasticsearch",
                "c5.2xlarge.elasticsearch",
                "c6g.2xlarge.elasticsearch",
                "d2.8xlarge.elasticsearch",
                "c5.4xlarge.elasticsearch",
                "t4g.medium.elasticsearch",
                "c6g.4xlarge.elasticsearch",
                "c6g.xlarge.elasticsearch",
                "c6g.12xlarge.elasticsearch",
                "c5.xlarge.elasticsearch",
                "c5.large.elasticsearch",
                "t4g.small.elasticsearch",
                "c5.9xlarge.elasticsearch",
                "c6g.8xlarge.elasticsearch",
                "c6g.large.elasticsearch",
                "d2.xlarge.elasticsearch",
                "ultrawarm1.medium.elasticsearch",
                "t3.nano.elasticsearch",
                "t3.medium.elasticsearch",
                "m6g.2xlarge.elasticsearch",
                "t3.2xlarge.elasticsearch",
                "c5.18xlarge.elasticsearch",
                "m6g.4xlarge.elasticsearch",
                "r6gd.2xlarge.elasticsearch",
                "m5.xlarge.elasticsearch",
                "r6gd.4xlarge.elasticsearch",
                "r6g.2xlarge.elasticsearch",
                "r5.2xlarge.elasticsearch",
                "m5.12xlarge.elasticsearch",
                "m6g.8xlarge.elasticsearch",
                "m6g.large.elasticsearch",
                "m5.24xlarge.elasticsearch",
                "r6g.4xlarge.elasticsearch",
                "t3.large.elasticsearch",
                "r5.4xlarge.elasticsearch",
                "ultrawarm1.large.elasticsearch",
                "r6gd.8xlarge.elasticsearch",
                "r6gd.large.elasticsearch",
                "r6g.xlarge.elasticsearch",
                "r5.xlarge.elasticsearch",
                "r6g.12xlarge.elasticsearch",
                "r5.12xlarge.elasticsearch",
                "m5.2xlarge.elasticsearch",
                "r6gd.xlarge.elasticsearch",
                "r6g.8xlarge.elasticsearch",
                "r6g.large.elasticsearch",
                "r5.24xlarge.elasticsearch",
                "r5.large.elasticsearch"
            ]
        },
        "ElasticSearchEBSVolumeGB": {
            "Type": "Number",
            "Description": "The size in GB of the EBS volumes that contain our data.",
            "Default": 10
        },
        "AppSyncApiName": {
            "Type": "String",
            "Description": "The name of the AppSync API",
            "Default": "AppSyncSimpleTransform"
        },
        "APIKeyExpirationEpoch": {
            "Type": "Number",
            "Description": "The epoch time in seconds when the API Key should expire. Setting this to 0 will default to 7 days from the deployment date. Setting this to -1 will not create an API Key.",
            "Default": 0,
            "MinValue": -1
        },
        "CreateAPIKey": {
            "Type": "Number",
            "Description": "The boolean value to control if an API Key will be created or not. The value of the property is automatically set by the CLI. If the value is set to 0 no API Key will be created.",
            "Default": 0,
            "MinValue": 0,
            "MaxValue": 1
        },
        "AuthCognitoUserPoolId": {
            "Type": "String",
            "Description": "The id of an existing User Pool to connect. If this is changed, a user pool will not be created for you.",
            "Default": "NONE"
        },
        "authRoleName": {
            "Type": "String",
            "Description": "Reference to the name of the Auth Role created for the project."
        },
        "env": {
            "Type": "String",
            "Description": "The environment name. e.g. Dev, Test, or Production",
            "Default": "NONE"
        },
        "S3DeploymentBucket": {
            "Type": "String",
            "Description": "The S3 bucket containing all deployment assets for the project."
        },
        "S3DeploymentRootKey": {
            "Type": "String",
            "Description": "An S3 key relative to the S3DeploymentBucket that points to the root of the deployment directory."
        }
    },
    "Resources": {
        "DataStore": {
            "Type": "AWS::DynamoDB::Table",
            "Properties": {
                "TableName": {
                    "Fn::If": [
                        "HasEnvironmentParameter",
                        {
                            "Fn::Join": [
                                "-",
                                [
                                    "AmplifyDataStore",
                                    {
                                        "Fn::GetAtt": [
                                            "GraphQLAPI",
                                            "ApiId"
                                        ]
                                    },
                                    {
                                        "Ref": "env"
                                    }
                                ]
                            ]
                        },
                        {
                            "Fn::Join": [
                                "-",
                                [
                                    "AmplifyDataStore",
                                    {
                                        "Fn::GetAtt": [
                                            "GraphQLAPI",
                                            "ApiId"
                                        ]
                                    }
                                ]
                            ]
                        }
                    ]
                },
                "AttributeDefinitions": [
                    {
                        "AttributeName": "ds_pk",
                        "AttributeType": "S"
                    },
                    {
                        "AttributeName": "ds_sk",
                        "AttributeType": "S"
                    }
                ],
                "KeySchema": [
                    {
                        "AttributeName": "ds_pk",
                        "KeyType": "HASH"
                    },
                    {
                        "AttributeName": "ds_sk",
                        "KeyType": "RANGE"
                    }
                ],
                "BillingMode": "PAY_PER_REQUEST",
                "TimeToLiveSpecification": {
                    "AttributeName": "_ttl",
                    "Enabled": true
                }
            }
        },
        "GraphQLAPI": {
            "Type": "AWS::AppSync::GraphQLApi",
            "Properties": {
                "Name": {
                    "Fn::If": [
                        "HasEnvironmentParameter",
                        {
                            "Fn::Join": [
                                "-",
                                [
                                    {
                                        "Ref": "AppSyncApiName"
                                    },
                                    {
                                        "Ref": "env"
                                    }
                                ]
                            ]
                        },
                        {
                            "Ref": "AppSyncApiName"
                        }
                    ]
                },
                "AuthenticationType": "AMAZON_COGNITO_USER_POOLS",
                "UserPoolConfig": {
                    "UserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "AwsRegion": {
                        "Ref": "AWS::Region"
                    },
                    "DefaultAction": "ALLOW"
                },
                "AdditionalAuthenticationProviders": [
                    {
                        "AuthenticationType": "AWS_IAM"
                    }
                ]
            }
        },
        "GraphQLAPIKey": {
            "Type": "AWS::AppSync::ApiKey",
            "Properties": {
                "ApiId": {
                    "Fn::GetAtt": [
                        "GraphQLAPI",
                        "ApiId"
                    ]
                },
                "Expires": {
                    "Fn::If": [
                        "APIKeyExpirationEpochIsPositive",
                        {
                            "Ref": "APIKeyExpirationEpoch"
                        },
                        1682464562
                    ]
                }
            },
            "Condition": "ShouldCreateAPIKey"
        },
        "NoneDataSource": {
            "Type": "AWS::AppSync::DataSource",
            "Properties": {
                "ApiId": {
                    "Fn::GetAtt": [
                        "GraphQLAPI",
                        "ApiId"
                    ]
                },
                "Name": "NONE",
                "Type": "NONE"
            }
        },
        "AuthRolePolicy01": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
                "Roles": [
                    {
                        "Ref": "authRoleName"
                    }
                ],
                "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Action": [
                                "appsync:GraphQL"
                            ],
                            "Resource": [
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Robot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createRobot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateRobot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteRobot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getRobot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listRobots"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getRobotByName"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchRobots"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Session"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createSession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateSession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteSession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getSession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listSessions"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getSessionByRobot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getSessionByName"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchSessions"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "SessionFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createSessionFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateSessionFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteSessionFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getSessionFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listSessionFiles"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listFilesBySession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getFileByKey"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "AppLogYearMonth"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createAppLogYearMonth"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateAppLogYearMonth"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteAppLogYearMonth"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getAppLogYearMonth"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAppLogYearMonths"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAppLogYearMonthsByRobot"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "AppLogFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createAppLogFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateAppLogFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteAppLogFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getAppLogFile"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAppLogFiles"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAppLogFilesByYearMonth"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getAppLogFileByKey"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchAppLogFiles"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "AppLog"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createAppLog"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateAppLog"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteAppLog"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getAppLog"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAppLogs"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAppLogByRelevantDate"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchAppLogs"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "FileProcessorTask"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "AuthRolePolicy02": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
                "Roles": [
                    {
                        "Ref": "authRoleName"
                    }
                ],
                "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Action": [
                                "appsync:GraphQL"
                            ],
                            "Resource": [
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createFileProcessorTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateFileProcessorTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteFileProcessorTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getFileProcessorTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listFileProcessorTasks"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Certificate"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Thing"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createThing"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateThing"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteThing"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getThing"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listThings"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Report"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createReport"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateReport"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteReport"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getReport"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listReports"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listReportsBySession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchReports"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "CPUError"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createCPUError"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateCPUError"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteCPUError"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getCPUError"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listCPUErrors"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listCPUErrorByRobotAndErrorCodeAndTime"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Handpiece"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createHandpiece"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateHandpiece"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteHandpiece"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getHandpiece"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listHandpieces"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listHandpieceByRobotAndSession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listHandpieceBySession"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchHandpieces"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "RobotChangeEvent"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createRobotChangeEvent"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateRobotChangeEvent"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteRobotChangeEvent"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getRobotChangeEvent"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listRobotChangeEvents"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "PCB"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createPCB"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updatePCB"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deletePCB"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getPCB"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listPCBs"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "UploadedFileMetaData"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createUploadedFileMetaData"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "AuthRolePolicy03": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
                "Roles": [
                    {
                        "Ref": "authRoleName"
                    }
                ],
                "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Action": [
                                "appsync:GraphQL"
                            ],
                            "Resource": [
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateUploadedFileMetaData"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteUploadedFileMetaData"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getUploadedFileMetaData"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listUploadedFileMetaDatas"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Task"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getTask"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTasks"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getTaskByName"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchTasks"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "TaskTarget"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createTaskTarget"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateTaskTarget"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteTaskTarget"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getTaskTarget"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTaskTargets"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTaskTargetsByTaskID"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTaskTargetsByRobotID"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTaskTargetsByStatus"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchTaskTargets"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "TaskState"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createTaskState"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateTaskState"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteTaskState"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getTaskState"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTaskStates"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listTaskStateByTaskTargetID"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchTaskStates"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "LabelImage"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createLabelImage"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateLabelImage"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteLabelImage"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getLabelImage"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listLabelImages"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listImagesByDatasetID"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryLabelImageByKey"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryLabelImageByNameByAnatomy"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryLabelImageByAnatomyByStatus"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "searchLabelImages"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "LabelDataset"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createLabelDataset"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateLabelDataset"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteLabelDataset"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getLabelDataset"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listLabelDatasets"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryLabelDatasetByAnatomy"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryLabelDatasetByName"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "AIModel"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "AuthRolePolicy04": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
                "Roles": [
                    {
                        "Ref": "authRoleName"
                    }
                ],
                "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Action": [
                                "appsync:GraphQL"
                            ],
                            "Resource": [
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createAIModel"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateAIModel"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteAIModel"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getAIModel"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAIModels"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryAIModelByKey"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryAIModelByAnatomy"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "AIAnnotation"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createAIAnnotation"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateAIAnnotation"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteAIAnnotation"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getAIAnnotation"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listAIAnnotations"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryAIAnnotationByImageId"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryAIAnnotationByImageIdByModelVersion"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/*",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "LabelDataRow"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "createLabelDataRow"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "updateLabelDataRow"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Mutation",
                                            "fieldName": "deleteLabelDataRow"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "getLabelDataRow"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "listLabelDataRows"
                                        }
                                    ]
                                },
                                {
                                    "Fn::Sub": [
                                        "arn:aws:appsync:${AWS::Region}:${AWS::AccountId}:apis/${apiId}/types/${typeName}/fields/${fieldName}",
                                        {
                                            "apiId": {
                                                "Fn::GetAtt": [
                                                    "GraphQLAPI",
                                                    "ApiId"
                                                ]
                                            },
                                            "typeName": "Query",
                                            "fieldName": "queryDataRowByDatasetIdByImageId"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "GraphQLSchema": {
            "Type": "AWS::AppSync::GraphQLSchema",
            "Properties": {
                "ApiId": {
                    "Fn::GetAtt": [
                        "GraphQLAPI",
                        "ApiId"
                    ]
                },
                "DefinitionS3Location": {
                    "Fn::Sub": [
                        "s3://${S3DeploymentBucket}/${S3DeploymentRootKey}/schema.graphql",
                        {
                            "S3DeploymentBucket": {
                                "Ref": "S3DeploymentBucket"
                            },
                            "S3DeploymentRootKey": {
                                "Ref": "S3DeploymentRootKey"
                            }
                        }
                    ]
                }
            }
        },
        "AuthorizedUser": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "AuthorizedUser.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "Robot": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "Robot.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "Session": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "Session.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "SessionFile": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "SessionFile.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "AppLogYearMonth": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "AppLogYearMonth.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "AppLogFile": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "AppLogFile.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "AppLog": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "AppLog.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "FileProcessorTask": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "FileProcessorTask.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "Thing": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "Thing.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "Report": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "Report.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "CPUError": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "CPUError.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "Handpiece": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "Handpiece.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "RobotChangeEvent": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "RobotChangeEvent.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "PCB": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "PCB.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "UploadedFileMetaData": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "UploadedFileMetaData.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "RobotInfo": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "RobotInfo.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "Task": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "Task.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "TaskTarget": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "TaskTarget.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "TaskState": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "TaskState.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "LabelImage": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "LabelImage.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "LabelDataset": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "LabelDataset.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "AIModel": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "AIModel.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "AIAnnotation": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "AIAnnotation.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "LabelDataRow": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "LabelDataRow.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "FunctionDirectiveStack": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "FunctionDirectiveStack.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource"
            ]
        },
        "LabelImages": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "LabelImages.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource",
                "LabelImage"
            ]
        },
        "ConnectionStack": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "ConnectionStack.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource",
                "Thing",
                "Session",
                "AppLogYearMonth",
                "TaskTarget",
                "Robot",
                "SessionFile",
                "Handpiece",
                "AppLogFile",
                "Task",
                "TaskState",
                "AIAnnotation",
                "LabelImage"
            ]
        },
        "SearchableStack": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "DynamoDBModelTableReadIOPS": {
                        "Ref": "DynamoDBModelTableReadIOPS"
                    },
                    "DynamoDBModelTableWriteIOPS": {
                        "Ref": "DynamoDBModelTableWriteIOPS"
                    },
                    "DynamoDBBillingMode": {
                        "Ref": "DynamoDBBillingMode"
                    },
                    "DynamoDBEnablePointInTimeRecovery": {
                        "Ref": "DynamoDBEnablePointInTimeRecovery"
                    },
                    "DynamoDBEnableServerSideEncryption": {
                        "Ref": "DynamoDBEnableServerSideEncryption"
                    },
                    "ElasticSearchAccessIAMRoleName": {
                        "Ref": "ElasticSearchAccessIAMRoleName"
                    },
                    "ElasticSearchStreamingLambdaHandlerName": {
                        "Ref": "ElasticSearchStreamingLambdaHandlerName"
                    },
                    "ElasticSearchStreamingLambdaRuntime": {
                        "Ref": "ElasticSearchStreamingLambdaRuntime"
                    },
                    "ElasticSearchStreamingFunctionName": {
                        "Ref": "ElasticSearchStreamingFunctionName"
                    },
                    "ElasticSearchStreamingIAMRoleName": {
                        "Ref": "ElasticSearchStreamingIAMRoleName"
                    },
                    "ElasticSearchDebugStreamingLambda": {
                        "Ref": "ElasticSearchDebugStreamingLambda"
                    },
                    "ElasticSearchInstanceCount": {
                        "Ref": "ElasticSearchInstanceCount"
                    },
                    "ElasticSearchInstanceType": {
                        "Ref": "ElasticSearchInstanceType"
                    },
                    "ElasticSearchEBSVolumeGB": {
                        "Ref": "ElasticSearchEBSVolumeGB"
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "APIKeyExpirationEpoch": {
                        "Ref": "APIKeyExpirationEpoch"
                    },
                    "CreateAPIKey": {
                        "Ref": "CreateAPIKey"
                    },
                    "AuthCognitoUserPoolId": {
                        "Ref": "AuthCognitoUserPoolId"
                    },
                    "authRoleName": {
                        "Ref": "authRoleName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    },
                    "GetAttGraphQLAPIApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "SearchableStack.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLSchema",
                "NoneDataSource",
                "Robot",
                "Session",
                "AppLogFile",
                "AppLog",
                "Report",
                "Handpiece",
                "Task",
                "TaskTarget",
                "TaskState",
                "LabelImage"
            ]
        },
        "CustomResourcesjson": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "Parameters": {
                    "AppSyncApiId": {
                        "Fn::GetAtt": [
                            "GraphQLAPI",
                            "ApiId"
                        ]
                    },
                    "AppSyncApiName": {
                        "Ref": "AppSyncApiName"
                    },
                    "env": {
                        "Ref": "env"
                    },
                    "S3DeploymentBucket": {
                        "Ref": "S3DeploymentBucket"
                    },
                    "S3DeploymentRootKey": {
                        "Ref": "S3DeploymentRootKey"
                    }
                },
                "TemplateURL": {
                    "Fn::Join": [
                        "/",
                        [
                            "https://s3.amazonaws.com",
                            {
                                "Ref": "S3DeploymentBucket"
                            },
                            {
                                "Ref": "S3DeploymentRootKey"
                            },
                            "stacks",
                            "CustomResources.json"
                        ]
                    ]
                }
            },
            "DependsOn": [
                "GraphQLAPI",
                "GraphQLSchema",
                "AuthorizedUser",
                "Robot",
                "Session",
                "SessionFile",
                "AppLogYearMonth",
                "AppLogFile",
                "AppLog",
                "FileProcessorTask",
                "Thing",
                "Report",
                "CPUError",
                "Handpiece",
                "RobotChangeEvent",
                "PCB",
                "UploadedFileMetaData",
                "RobotInfo",
                "Task",
                "TaskTarget",
                "TaskState",
                "LabelImage",
                "LabelDataset",
                "AIModel",
                "AIAnnotation",
                "LabelDataRow",
                "FunctionDirectiveStack",
                "LabelImages",
                "ConnectionStack",
                "SearchableStack"
            ]
        }
    },
    "Outputs": {
        "GraphQLAPIIdOutput": {
            "Description": "Your GraphQL API ID.",
            "Value": {
                "Fn::GetAtt": [
                    "GraphQLAPI",
                    "ApiId"
                ]
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        ":",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "GraphQLApiId"
                        ]
                    ]
                }
            }
        },
        "GraphQLAPIEndpointOutput": {
            "Description": "Your GraphQL API endpoint.",
            "Value": {
                "Fn::GetAtt": [
                    "GraphQLAPI",
                    "GraphQLUrl"
                ]
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        ":",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "GraphQLApiEndpoint"
                        ]
                    ]
                }
            }
        },
        "GraphQLAPIKeyOutput": {
            "Description": "Your GraphQL API key. Provide via 'x-api-key' header.",
            "Value": {
                "Fn::GetAtt": [
                    "GraphQLAPIKey",
                    "ApiKey"
                ]
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        ":",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "GraphQLApiKey"
                        ]
                    ]
                }
            },
            "Condition": "ShouldCreateAPIKey"
        }
    },
    "Mappings": {},
    "Conditions": {
        "ShouldUsePayPerRequestBilling": {
            "Fn::Equals": [
                {
                    "Ref": "DynamoDBBillingMode"
                },
                "PAY_PER_REQUEST"
            ]
        },
        "ShouldUsePointInTimeRecovery": {
            "Fn::Equals": [
                {
                    "Ref": "DynamoDBEnablePointInTimeRecovery"
                },
                "true"
            ]
        },
        "ShouldUseServerSideEncryption": {
            "Fn::Equals": [
                {
                    "Ref": "DynamoDBEnableServerSideEncryption"
                },
                "true"
            ]
        },
        "ShouldCreateAPIKey": {
            "Fn::Equals": [
                {
                    "Ref": "CreateAPIKey"
                },
                1
            ]
        },
        "APIKeyExpirationEpochIsPositive": {
            "Fn::And": [
                {
                    "Fn::Not": [
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "APIKeyExpirationEpoch"
                                },
                                -1
                            ]
                        }
                    ]
                },
                {
                    "Fn::Not": [
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "APIKeyExpirationEpoch"
                                },
                                0
                            ]
                        }
                    ]
                }
            ]
        },
        "HasEnvironmentParameter": {
            "Fn::Not": [
                {
                    "Fn::Equals": [
                        {
                            "Ref": "env"
                        },
                        "NONE"
                    ]
                }
            ]
        }
    }
}